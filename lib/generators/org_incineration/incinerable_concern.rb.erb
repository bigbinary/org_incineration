# frozen_string_literal: true

module IncinerableConcern
  extend ActiveSupport::Concern

  SKIPPED_MODELS =  ["Model1", "Model2"]
  MODELS_REQUIRE_DESTROY = ["Model3", "Model4"]

  included do
    def incinerate!
      OrgIncineration::Incinerator.new(self).run!
    end

    def self.associated_models(org_id)
      {
        # "Payment": {
        #   joins: :invoice,
        #   where: ["organization_id =?", org_id]
        # },
        # "OrganizationUser": {
        #   joins: {},
        #   where: ["organization_id =?", org_id]
        # },
        # "Invoice": {
        #   joins: {},
        #   where: ["organization_id =?", org_id]
        # }
      }
    end
  end
end
